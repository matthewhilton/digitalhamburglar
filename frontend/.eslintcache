[{"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\index.tsx":"1","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\offerList.tsx":"2","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Components\\offerCard.tsx":"3","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\App.tsx":"4","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\mainPage.tsx":"5","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\offerRedemption.tsx":"6","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\reportWebVitals.ts":"7","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\index.tsx":"8","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\offerList.tsx":"9","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Components\\offerCard.tsx":"10","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\App.tsx":"11","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\mainPage.tsx":"12","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\reportWebVitals.ts":"13","C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\offerRedemption.tsx":"14"},{"size":500,"mtime":1609658605030,"results":"15","hashOfConfig":"16"},{"size":1569,"mtime":1610002551338,"results":"17","hashOfConfig":"16"},{"size":645,"mtime":1609859874725,"results":"18","hashOfConfig":"16"},{"size":833,"mtime":1609951384354,"results":"19","hashOfConfig":"16"},{"size":2442,"mtime":1609951152852,"results":"20","hashOfConfig":"16"},{"size":3220,"mtime":1609861037131,"results":"21","hashOfConfig":"16"},{"size":425,"mtime":1609658605030,"results":"22","hashOfConfig":"16"},{"size":500,"mtime":1609658605030,"results":"23","hashOfConfig":"24"},{"size":1756,"mtime":1616678596824,"results":"25","hashOfConfig":"24"},{"size":615,"mtime":1616681132419,"results":"26","hashOfConfig":"24"},{"size":828,"mtime":1616679485101,"results":"27","hashOfConfig":"24"},{"size":979,"mtime":1616681784316,"results":"28","hashOfConfig":"24"},{"size":425,"mtime":1609658605030,"results":"29","hashOfConfig":"24"},{"size":4455,"mtime":1616683388901,"results":"30","hashOfConfig":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"1qzerut",{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"33"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ej8f1h",{"filePath":"49","messages":"50","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\index.tsx",[],["61","62"],"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\offerList.tsx",["63"],"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Components\\offerCard.tsx",[],"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\App.tsx",[],"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\mainPage.tsx",["64"],"C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\Pages\\offerRedemption.tsx",["65","66"],"import { useLocation, useHistory} from 'react-router-dom'\r\nimport { useEffect, useState } from 'react'\r\nimport { OfferCode } from \"./../../interfaces\"\r\nimport bwipjs from \"bwip-js\"\r\nimport { Accordion, AccordionPanel, Box, Button, Card, CardBody, CardFooter, CardHeader, Heading, Text } from 'grommet'\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n\r\nconst OfferRedemption = (props: any) => {\r\n    const query = useQuery();\r\n    const id = query.get(\"id\");\r\n    const propositionId = query.get(\"propositionId\");\r\n\r\n    const [code, setCode] = useState<OfferCode | null>(null);\r\n    const [error, setError] = useState<String | null>(null)\r\n\r\n    const history = useHistory();\r\n\r\n    const loadCodeData = () => {\r\n        setCode(null)\r\n        // @ts-ignore \r\n        const env = process.env\r\n        fetch(env.REACT_APP_API_ENDPOINT + \"/getOfferCode?offerId=\" + id + \"&propositionId=\" + propositionId).then(response => {\r\n            if(response.status == 200){\r\n                response.json().then((data) => {\r\n                    setCode(data)\r\n                })\r\n            } else {\r\n                setError(\"Error getting redemption code\")\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadCodeData();\r\n    }, [id, propositionId]);\r\n\r\n    useEffect(() => {\r\n        if(code != null){\r\n            const options : bwipjs.ToBufferOptions = {\r\n                bcid: \"azteccode\",\r\n                text: code.barcodeData\r\n            } \r\n            bwipjs.toCanvas(\"codeCanvas\", options)\r\n        }\r\n    }, [code])\r\n\r\n    return(\r\n        <div>\r\n\r\n            <Box>\r\n                <Card background=\"light-1\" pad=\"small\" align=\"center\">\r\n                    <CardHeader>\r\n                        <Heading>{code?.code}</Heading> \r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <canvas id=\"codeCanvas\" style={{width: '100%', height: '100%', maxWidth: 300, maxHeight: 300}} />\r\n                    </CardBody>\r\n                    <CardFooter pad=\"small\">\r\n                        <Button primary onClick={loadCodeData} disabled={code===null} label=\"Refresh Code\" /> \r\n                    </CardFooter>\r\n               </Card>\r\n            </Box>\r\n\r\n            {error != null ? <Text> {error} </Text> : null }\r\n            <Accordion>\r\n                <AccordionPanel label=\"Not working?\">\r\n                    <Box pad=\"medium\" background=\"light-2\">\r\n                        <Text>\r\n                            Someone else might have requested a code for this offer recently, overriding the one you currently see on your page. \r\n                            To fix this refresh the code, or select a different offer.\r\n                        </Text>\r\n                        <Box direction=\"row\" gap=\"small\">\r\n                            <Button primary onClick={loadCodeData} disabled={code===null} label=\"Refresh Code\" /> \r\n                            <Button onClick={() => history.push(\"/\")} label=\"Select Another Offer\" />\r\n                        </Box>\r\n                    </Box>\r\n                </AccordionPanel>\r\n            </Accordion>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default OfferRedemption;","C:\\Users\\Matt\\Documents\\Github\\cheapskate\\frontend\\src\\reportWebVitals.ts",[],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\index.tsx",[],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\offerList.tsx",["67","68","69","70","71","72","73"],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Components\\offerCard.tsx",["74"],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\App.tsx",[],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\mainPage.tsx",["75","76","77","78","79"],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\reportWebVitals.ts",[],"C:\\Users\\Matt\\Documents\\Github\\digitalhamburglar\\frontend\\src\\Pages\\offerRedemption.tsx",["80","81","82","83","84","85","86","87","88","89","90","91","92","93"],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":27,"column":58,"nodeType":"100","messageId":"101","endLine":27,"endColumn":60},{"ruleId":"102","severity":1,"message":"103","line":3,"column":30,"nodeType":"104","messageId":"105","endLine":3,"endColumn":36},{"ruleId":"106","severity":1,"message":"107","line":26,"column":32,"nodeType":"108","messageId":"109","endLine":26,"endColumn":34},{"ruleId":"110","severity":1,"message":"111","line":38,"column":8,"nodeType":"112","endLine":38,"endColumn":27,"suggestions":"113"},{"ruleId":"102","severity":1,"message":"114","line":2,"column":10,"nodeType":"104","messageId":"105","endLine":2,"endColumn":15},{"ruleId":"102","severity":1,"message":"103","line":4,"column":15,"nodeType":"104","messageId":"105","endLine":4,"endColumn":21},{"ruleId":"102","severity":1,"message":"115","line":4,"column":23,"nodeType":"104","messageId":"105","endLine":4,"endColumn":28},{"ruleId":"102","severity":1,"message":"116","line":4,"column":30,"nodeType":"104","messageId":"105","endLine":4,"endColumn":34},{"ruleId":"102","severity":1,"message":"117","line":4,"column":36,"nodeType":"104","messageId":"105","endLine":4,"endColumn":40},{"ruleId":"102","severity":1,"message":"118","line":4,"column":42,"nodeType":"104","messageId":"105","endLine":4,"endColumn":51},{"ruleId":"110","severity":1,"message":"119","line":26,"column":8,"nodeType":"112","endLine":26,"endColumn":10,"suggestions":"120"},{"ruleId":"102","severity":1,"message":"103","line":1,"column":15,"nodeType":"104","messageId":"105","endLine":1,"endColumn":21},{"ruleId":"102","severity":1,"message":"121","line":2,"column":10,"nodeType":"104","messageId":"105","endLine":2,"endColumn":19},{"ruleId":"102","severity":1,"message":"122","line":2,"column":21,"nodeType":"104","messageId":"105","endLine":2,"endColumn":29},{"ruleId":"102","severity":1,"message":"123","line":3,"column":15,"nodeType":"104","messageId":"105","endLine":3,"endColumn":22},{"ruleId":"102","severity":1,"message":"117","line":3,"column":24,"nodeType":"104","messageId":"105","endLine":3,"endColumn":28},{"ruleId":"102","severity":1,"message":"103","line":3,"column":30,"nodeType":"104","messageId":"105","endLine":3,"endColumn":36},{"ruleId":"102","severity":1,"message":"124","line":5,"column":10,"nodeType":"104","messageId":"105","endLine":5,"endColumn":19},{"ruleId":"102","severity":1,"message":"125","line":5,"column":21,"nodeType":"104","messageId":"105","endLine":5,"endColumn":35},{"ruleId":"102","severity":1,"message":"103","line":5,"column":42,"nodeType":"104","messageId":"105","endLine":5,"endColumn":48},{"ruleId":"102","severity":1,"message":"126","line":5,"column":50,"nodeType":"104","messageId":"105","endLine":5,"endColumn":54},{"ruleId":"102","severity":1,"message":"127","line":5,"column":56,"nodeType":"104","messageId":"105","endLine":5,"endColumn":64},{"ruleId":"102","severity":1,"message":"128","line":5,"column":66,"nodeType":"104","messageId":"105","endLine":5,"endColumn":76},{"ruleId":"102","severity":1,"message":"129","line":5,"column":78,"nodeType":"104","messageId":"105","endLine":5,"endColumn":88},{"ruleId":"102","severity":1,"message":"123","line":5,"column":90,"nodeType":"104","messageId":"105","endLine":5,"endColumn":97},{"ruleId":"102","severity":1,"message":"130","line":22,"column":12,"nodeType":"104","messageId":"105","endLine":22,"endColumn":17},{"ruleId":"102","severity":1,"message":"131","line":24,"column":11,"nodeType":"104","messageId":"105","endLine":24,"endColumn":18},{"ruleId":"106","severity":1,"message":"107","line":33,"column":36,"nodeType":"108","messageId":"109","endLine":33,"endColumn":38},{"ruleId":"106","severity":1,"message":"107","line":43,"column":36,"nodeType":"108","messageId":"109","endLine":43,"endColumn":38},{"ruleId":"110","severity":1,"message":"111","line":59,"column":8,"nodeType":"112","endLine":59,"endColumn":20,"suggestions":"132"},{"ruleId":"102","severity":1,"message":"133","line":63,"column":19,"nodeType":"104","messageId":"105","endLine":63,"endColumn":51},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","@typescript-eslint/no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadCodeData'. Either include it or remove the dependency array.","ArrayExpression",["136"],"'Offer' is defined but never used.","'Image' is defined but never used.","'List' is defined but never used.","'Text' is defined but never used.","'TextInput' is defined but never used.","React Hook useEffect has a missing dependency: 'updateOffers'. Either include it or remove the dependency array.",["137"],"'useEffect' is defined but never used.","'useState' is defined but never used.","'Heading' is defined but never used.","'Accordion' is defined but never used.","'AccordionPanel' is defined but never used.","'Card' is defined but never used.","'CardBody' is defined but never used.","'CardFooter' is defined but never used.","'CardHeader' is defined but never used.","'error' is assigned a value but never used.","'history' is assigned a value but never used.",["138"],"'options' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},{"desc":"143","fix":"144"},"Update the dependencies array to be: [id, loadCodeData, propositionId]",{"range":"145","text":"146"},"Update the dependencies array to be: [updateOffers]",{"range":"147","text":"148"},"Update the dependencies array to be: [externalId, loadCodeData]",{"range":"149","text":"150"},[1279,1298],"[id, loadCodeData, propositionId]",[741,743],"[updateOffers]",[1945,1957],"[externalId, loadCodeData]"]